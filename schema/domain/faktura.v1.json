{
  "id": "https://api.fiks.ks.no/innsyn/schema/domain/faktura.v1.json",
  "$schema": "https://json-schema.org/draft/2019-09/schema",
  "title": "Innsyn Faktura V1",
  "description": "Melding som beskriver en faktura",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "tittel",
    "fakturaDato",
    "forfallDato",
    "fakturaMottaker",
    "betalesTil",
    "belop"
  ],
  "definitions": {
    "FakturaPdfV1": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "tittel",
        "lenke"
      ],
      "properties": {
        "tittel": {
          "$ref": "../types/string.not.blank.json"
        },
        "lenke": {
          "$ref": "../types/string.not.blank.json"
        }
      }
    },
    "FakturastatusV1": {
      "enum": [
        "BETALT",
        "IKKE_BETALT",
        "PURRING"
      ]
    }
  },
  "properties": {
    "tittel": {
      "$ref": "../types/string.not.blank.json",
      "description": "Forklarende navn på faktura",
      "examples": [
        "Barnehage og SFO",
        "Kommunale avgifter 1. kvartal 2020"
      ]
    },
    "fakturaDato": {
      "type": "string",
      "format": "date",
      "description": "Dato på ISO 8601-format, YYYY-MM-DD",
      "examples": [
        "2020-01-01",
        "2100-12-31"
      ]
    },
    "forfallDato": {
      "type": "string",
      "format": "date",
      "description": "Dato på ISO 8601-format, YYYY-MM-DD",
      "examples": [
        "2020-01-01",
        "2100-12-31"
      ]
    },
    "status": {
      "description": "Status for faktura",
      "$ref": "#/definitions/FakturastatusV1"
    },
    "fakturaMottaker": {
      "$ref": "../types/string.not.blank.json",
      "description": "Navn på mottaker av fakturaen",
      "examples": [
        "Ola Nordmann"
      ]
    },
    "betalesTil": {
      "$ref": "../types/string.not.blank.json",
      "description": "Navn på mottaker av betalingen"
    },
    "belop": {
      "$ref": "../types/string.not.blank.json",
      "description": "Originalt fakturabeløp. Oppfordres til å bruke beløp med to desimaler skilt av komma, men ingen validering gjøres på dette feltet",
      "examples": [
        "350,00"
      ]
    },
    "gebyr": {
      "$ref": "../types/string.nullable.json",
      "description": "Purregebyr som kommer i tillegg til originalt fakturabeløp.",
      "examples": [
        "350,00"
      ]
    },
    "kontonummer": {
      "$ref": "../types/string.not.blank.json",
      "description": "Kontonummeret fakturaen skal betales til",
      "examples": [
        "5210 00 539187",
        "521000539187"
      ]
    },
    "kid": {
      "$ref": "../types/string.not.blank.json",
      "description": "KID-nummer for fakturaen",
      "examples": [
        "1843 4531 0800 3525",
        "1843453108003525"
      ]
    },
    "fakturanummer": {
      "$ref": "../types/string.not.blank.json",
      "description": "Fakturanummer for fakturaen"
    },
    "forsendelseskanal": {
      "$ref": "../types/string.not.blank.json",
      "description": "Kanalen fakturaen ble levert gjennom",
      "examples": [
        "Post",
        "eFaktura",
        "Digipost",
        "e-Boks"
      ]
    },
    "lenker": {
      "description": "Liste med lenker til PDF for faktura. Original faktura legges først, med eventuelle purringer etter.",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "$ref": "#/definitions/FakturaPdfV1"
      }
    },
    "korrelasjonId": {
      "$ref": "korrelasjon.id.json"
    },
    "forelder": {
      "$ref": "forelder.json"
    }
  }
}