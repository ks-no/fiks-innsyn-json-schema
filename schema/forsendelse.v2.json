{
  "id": "https://fiks.ks.no/innsyn/forsendelse.v2.json",
  "$schema": "https://json-schema.org/draft/2019-09/schema",
  "title": "Innsyn Forsendelse V2",
  "description": "Melding som beskriver en forsendelse. Benyttes i dag for å vise post sendt via KS-SvarUt på minside.kommune.no",
  "type": "object",
  "required": [
    "tittel",
    "sendtDato",
    "avsender",
    "returAdresse",
    "mottakerAdresse",
    "lest",
    "dokumenter"
  ],
  "definitions": {
    "ForsendelseAdresseV2": {
      "type": "object",
      "required": [
        "navn"
      ],
      "properties": {
        "navn": {
          "$ref": "string.not.blank.json",
          "description": "Navn"
        },
        "addresselinje1": {
          "$ref": "string.nullable.json",
          "description": "Første adresselinje"
        },
        "addresselinje2": {
          "$ref": "string.nullable.json",
          "description": "Andre adresselinje"
        },
        "addresselinje3": {
          "$ref": "string.nullable.json",
          "description": "Tredje adresselinje"
        },
        "poststed": {
          "$ref": "string.nullable.json",
          "description": "Poststed"
        },
        "postnummer": {
          "$ref": "string.nullable.json",
          "description": "Postnummer"
        },
        "land": {
          "$ref": "string.nullable.json",
          "description": "Land"
        }
      }
    },
    "ForsendelseDokumentV2": {
      "type": "object",
      "required": [
        "tittel",
        "nedlastingLenke",
        "mimeType"
      ],
      "properties": {
        "tittel": {
          "$ref": "string.not.blank.json",
          "description": "Tittel for dokumentet"
        },
        "size": {
          "$ref": "int.nullable.json",
          "description": "Dokumentets størrelse i bytes"
        },
        "nedlastingLenke": {
          "$ref": "string.not.blank.json",
          "description": "Url for nedlasting av dokumentet"
        },
        "mimeType": {
          "$ref": "string.not.blank.json",
          "description": "Mime-type for dokumentet lenken leder til"
        }
      }
    },
    "ForsendelseLenkeV2": {
      "type": "object",
      "required": [
        "url",
        "urlTekst"
      ],
      "properties": {
        "url": {
          "$ref": "string.not.blank.json",
          "description": "Url for lenken"
        },
        "urlTekst": {
          "$ref": "string.not.blank.json",
          "description": "Tekst som skal benyttes for url"
        },
        "ledetekst": {
          "$ref": "string.nullable.json",
          "description": "Ledetekst for lenken"
        }
      }
    }
  },
  "properties": {
    "tittel": {
      "$ref": "string.not.blank.json",
      "description": "Tittel for meldingen"
    },
    "sendtDato": {
      "$ref": "int64.json",
      "description": "Dato forsendelsen er sendt. Dette feltet brukes som sorteringsdato. Uttrykket som millisekunder etter epoch"
    },
    "avsender": {
      "$ref": "string.not.blank.json",
      "description": "Navn på person eller orgnr / navn på organisasjon som er kilde for forsendelsen"
    },
    "returAdresse": {
      "description": "Returadresse påført forsendelsen",
      "$ref": "#/definitions/ForsendelseAdresseV2"
    },
    "mottakerAdresse": {
      "description": "Mottakeradresse påført forsendelsen",
      "$ref": "#/definitions/ForsendelseAdresseV2"
    },
    "lest": {
      "description": "Indikerer om forsendelsen er lest eller ikke",
      "type": "boolean"
    },
    "dokumenter": {
      "description": "Dokumenter som inngår i denne forsendelsen",
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "#/definitions/ForsendelseDokumentV2"
      }
    },
    "lenker": {
      "description": "Lenker vedlagt forsendelsen",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "$ref": "#/definitions/ForsendelseLenkeV2"
      }
    },
    "svarLenke": {
      "$ref": "string.nullable.json",
      "description": "Url som skal benyttes for å svare på denne forsendelsen"
    },
    "korrelasjonId": {
      "$ref": "korrelasjon.id.json"
    },
    "forelder": {
      "$ref": "forelder.json"
    }
  }
}